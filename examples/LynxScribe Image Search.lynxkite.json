{
  "edges": [
    {
      "id": "Cloud-sourced File Listing 1 LynxScribe Image Describer 1",
      "source": "Cloud-sourced File Listing 1",
      "sourceHandle": "output",
      "target": "LynxScribe Image Describer 1",
      "targetHandle": "file_urls"
    },
    {
      "id": "LynxScribe Image Describer 1 LynxScribe Image RAG Builder 1",
      "source": "LynxScribe Image Describer 1",
      "sourceHandle": "output",
      "target": "LynxScribe Image RAG Builder 1",
      "targetHandle": "image_descriptions"
    },
    {
      "id": "LynxScribe Image RAG Builder 1 LynxScribe Image RAG Query 1",
      "source": "LynxScribe Image RAG Builder 1",
      "sourceHandle": "output",
      "target": "LynxScribe Image RAG Query 1",
      "targetHandle": "rag_graph"
    },
    {
      "id": "Input chat 1 LynxScribe Image RAG Query 1",
      "source": "Input chat 1",
      "sourceHandle": "output",
      "target": "LynxScribe Image RAG Query 1",
      "targetHandle": "text"
    },
    {
      "id": "LynxScribe Image RAG Query 1 LynxScribe Image Result Viewer 1",
      "source": "LynxScribe Image RAG Query 1",
      "sourceHandle": "output",
      "target": "LynxScribe Image Result Viewer 1",
      "targetHandle": "embedding_similarities"
    }
  ],
  "env": "LynxScribe",
  "nodes": [
    {
      "data": {
        "__execution_delay": 0.0,
        "collapsed": false,
        "display": null,
        "error": null,
        "meta": {
          "inputs": {},
          "name": "Input chat",
          "outputs": {
            "output": {
              "name": "output",
              "position": "right",
              "type": {
                "type": "None"
              }
            }
          },
          "params": {
            "chat": {
              "default": null,
              "name": "chat",
              "type": {
                "type": "<class 'str'>"
              }
            }
          },
          "type": "basic"
        },
        "params": {
          "chat": "show me a picture about cyclists"
        },
        "status": "done",
        "title": "Input chat"
      },
      "dragHandle": ".bg-primary",
      "height": 214.0,
      "id": "Input chat 1",
      "position": {
        "x": 51.51211115780683,
        "y": -147.75474103115954
      },
      "type": "basic",
      "width": 387.0
    },
    {
      "data": {
        "__execution_delay": 0.0,
        "collapsed": null,
        "display": null,
        "error": null,
        "meta": {
          "inputs": {},
          "name": "Cloud-sourced File Listing",
          "outputs": {
            "output": {
              "name": "output",
              "position": "right",
              "type": {
                "type": "None"
              }
            }
          },
          "params": {
            "accepted_file_types": {
              "default": ".jpg, .jpeg, .png",
              "name": "accepted_file_types",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "cloud_provider": {
              "default": "gcp",
              "name": "cloud_provider",
              "type": {
                "enum": ["GCP", "AWS", "AZURE"]
              }
            },
            "folder_URL": {
              "default": "https://storage.googleapis.com/lynxkite_public_data/lynxscribe-images/image-rag-test",
              "name": "folder_URL",
              "type": {
                "type": "<class 'str'>"
              }
            }
          },
          "position": {
            "x": 1271.0,
            "y": 603.0
          },
          "type": "basic"
        },
        "params": {
          "accepted_file_types": ".jpg, .jpeg, .png",
          "cloud_provider": "GCP",
          "folder_URL": "https://storage.googleapis.com/lynxkite_public_data/lynxscribe-images/image-rag-test"
        },
        "status": "done",
        "title": "Cloud-sourced File Listing"
      },
      "dragHandle": ".bg-primary",
      "height": 308.0,
      "id": "Cloud-sourced File Listing 1",
      "position": {
        "x": -733.5815993327456,
        "y": 418.3880816741662
      },
      "type": "basic",
      "width": 613.0
    },
    {
      "data": {
        "__execution_delay": 0.0,
        "collapsed": null,
        "display": null,
        "error": null,
        "meta": {
          "inputs": {
            "file_urls": {
              "name": "file_urls",
              "position": "left",
              "type": {
                "type": "<class 'inspect._empty'>"
              }
            }
          },
          "name": "LynxScribe Image Describer",
          "outputs": {
            "output": {
              "name": "output",
              "position": "right",
              "type": {
                "type": "None"
              }
            }
          },
          "params": {
            "llm_interface": {
              "default": "openai",
              "name": "llm_interface",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "llm_prompt_name": {
              "default": "cot_picture_descriptor",
              "name": "llm_prompt_name",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "llm_prompt_path": {
              "default": "uploads/image_description_prompts.yaml",
              "name": "llm_prompt_path",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "llm_visual_model": {
              "default": "gpt-4o",
              "name": "llm_visual_model",
              "type": {
                "type": "<class 'str'>"
              }
            }
          },
          "position": {
            "x": 1331.0,
            "y": 686.0
          },
          "type": "basic"
        },
        "params": {
          "llm_interface": "openai",
          "llm_prompt_name": "cot_picture_descriptor",
          "llm_prompt_path": "uploads/image_description_prompts.yaml",
          "llm_visual_model": "gpt-4o"
        },
        "status": "done",
        "title": "LynxScribe Image Describer"
      },
      "dragHandle": ".bg-primary",
      "height": 366.0,
      "id": "LynxScribe Image Describer 1",
      "position": {
        "x": 94.4350838249984,
        "y": 389.7616279503166
      },
      "type": "basic",
      "width": 362.0
    },
    {
      "data": {
        "__execution_delay": 0.0,
        "collapsed": null,
        "display": null,
        "error": null,
        "meta": {
          "inputs": {
            "image_descriptions": {
              "name": "image_descriptions",
              "position": "left",
              "type": {
                "type": "<class 'inspect._empty'>"
              }
            }
          },
          "name": "LynxScribe Image RAG Builder",
          "outputs": {
            "output": {
              "name": "output",
              "position": "right",
              "type": {
                "type": "None"
              }
            }
          },
          "params": {
            "text_embedder_interface": {
              "default": "openai",
              "name": "text_embedder_interface",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "text_embedder_model_name_or_path": {
              "default": "text-embedding-3-large",
              "name": "text_embedder_model_name_or_path",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "vdb_collection_name": {
              "default": "lynx",
              "name": "vdb_collection_name",
              "type": {
                "type": "<class 'str'>"
              }
            },
            "vdb_num_dimensions": {
              "default": 3072.0,
              "name": "vdb_num_dimensions",
              "type": {
                "type": "<class 'int'>"
              }
            },
            "vdb_provider_name": {
              "default": "faiss",
              "name": "vdb_provider_name",
              "type": {
                "type": "<class 'str'>"
              }
            }
          },
          "position": {
            "x": 1714.0,
            "y": 740.0
          },
          "type": "basic"
        },
        "params": {
          "text_embedder_interface": "openai",
          "text_embedder_model_name_or_path": "text-embedding-3-large",
          "vdb_collection_name": "lynx",
          "vdb_num_dimensions": "3072",
          "vdb_provider_name": "faiss"
        },
        "status": "done",
        "title": "LynxScribe Image RAG Builder"
      },
      "dragHandle": ".bg-primary",
      "height": 463.0,
      "id": "LynxScribe Image RAG Builder 1",
      "position": {
        "x": 634.1082253159385,
        "y": 341.7237080874875
      },
      "type": "basic",
      "width": 309.0
    },
    {
      "data": {
        "__execution_delay": 0.0,
        "collapsed": null,
        "display": null,
        "error": null,
        "meta": {
          "inputs": {
            "rag_graph": {
              "name": "rag_graph",
              "position": "bottom",
              "type": {
                "type": "<class 'inspect._empty'>"
              }
            },
            "text": {
              "name": "text",
              "position": "left",
              "type": {
                "type": "<class 'inspect._empty'>"
              }
            }
          },
          "name": "LynxScribe Image RAG Query",
          "outputs": {
            "output": {
              "name": "output",
              "position": "right",
              "type": {
                "type": "None"
              }
            }
          },
          "params": {
            "top_k": {
              "default": 3.0,
              "name": "top_k",
              "type": {
                "type": "<class 'int'>"
              }
            }
          },
          "position": {
            "x": 1865.0,
            "y": 363.0
          },
          "type": "basic"
        },
        "params": {
          "top_k": "3"
        },
        "status": "done",
        "title": "LynxScribe Image RAG Query"
      },
      "dragHandle": ".bg-primary",
      "height": 205.0,
      "id": "LynxScribe Image RAG Query 1",
      "position": {
        "x": 1064.0579569918539,
        "y": -140.79102876607624
      },
      "type": "basic",
      "width": 263.0
    },
    {
      "data": {
        "display": "https://storage.googleapis.com/lynxkite_public_data/lynxscribe-images/image-rag-test/riding-7661658_1280.jpg",
        "error": null,
        "meta": {
          "inputs": {
            "embedding_similarities": {
              "name": "embedding_similarities",
              "position": "left",
              "type": {
                "type": "<class 'inspect._empty'>"
              }
            }
          },
          "name": "LynxScribe Image Result Viewer",
          "outputs": {},
          "params": {},
          "position": {
            "x": 2207.0,
            "y": 327.0
          },
          "type": "image"
        },
        "params": {},
        "status": "done",
        "title": "LynxScribe Image Result Viewer"
      },
      "dragHandle": ".bg-primary",
      "height": 574.0,
      "id": "LynxScribe Image Result Viewer 1",
      "position": {
        "x": 1551.9130513063783,
        "y": -326.059648265166
      },
      "type": "image",
      "width": 802.0
    }
  ]
}
